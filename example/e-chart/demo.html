<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>demo 01</title>
</head>
<body>
    <div id="main" style="width: 700px;height:500px;"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.2.1/echarts.min.js"></script>

    <script>
        var myChart = echarts.init(
            document.getElementById('main')
        );

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'ECharts 入门示例',
                subtext: 'subtext title',
                top: 100,  // position 
                backgroundColor: '#ccc',
                textStyle: {
                    color: '#f40',
                    fontWeight: 'bold',
                    fontSize: 25,
                    formatter: [
                            '{a|这段文本采用样式a}',
                            '{b|这段文本采用样式b}这段用默认样式{x|这段用样式x}'
                        ].join('\n'),
                    rich: {
                        a: {
                            color: 'red',
                            lineHeight: 10
                        },
                        b: {
                            backgroundColor: {
                                image: 'http://192.168.31.128:9000/public/images/step_right.png'
                            },
                            height: 40
                        },
                        x: {
                            fontSize: 18,
                            fontFamily: 'Microsoft YaHei',
                            borderColor: '#449933',
                            borderRadius: 4
                        },
                    }
                },
            },
            toolbox: {
                orient: 'vertical',
                feature: {
                    dataZoom: {
                        yAxisIndex: 'none'
                    },
                    dataView: {readOnly: false},
                    magicType: {type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {
                        title: '自定义 title'
                    },
                    left:　"50px"
                }
            },
            // 提示工具
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        show: true,
                        formatter: 'some text {value} some text',
                        color: '#f40',
                        fontStyle: 'italic',
                        fontSize: 12
                    }
                }
            },
            // 动画
            animation: true,
            // 动画效果
            animationEasing: 'elasticOut',
            // 动画的阈值，当每个系列大于这个 阈值时，就会关闭动画
            // animationThreshold: 1000,
            animationDelayUpdate: function(idx) {

            },
            // 
            // 对应 series 的 name
            legend: {
                data:['销量1', '销量2']
            },
            // 直角 x 轴
            xAxis: {
                id: '1',
                // show : true,
                data: [
                    {
                        value: '衬衫',
                        // 突出第一个
                        textStyle: {
                            fontSize: 20,
                            color: 'red'
                        }
                    }, 
                    '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子'
                ],
                // 坐标系类型
                // type: 'log',
                nameTextStyle: {
                    color: '#f40'
                },
                axisPointer: {
                    label: 'label'
                }
            },
            yAxis: {},
            aria: {
                show: true
            },
            series: [
                {
                    name: '销量1',
                    type: 'line',
                    data: [
                        30, 1, 40, 20, 70, 50
                        // { 
                        //     value: 335, name: '直接访问',
                        //     value: 300, name: '邮件营销',
                        //     value: 200, name: '联盟广告',
                        //     value: 100, name: '视频',
                        //     value: 150, name: '直接访问',
                        // }
                    ],
                    symbol: 'circle',
                    markPoint: {
                        data: [
                            {
                                type: 'max', name: '最大值'
                            },
                            {
                                type: 'min', name: '最小值'
                            }
                        ]
                    },
                },
                {
                    name: '销量2',
                    type: 'bar',
                    data: [
                        5, 20, 36, 10, 10, 20
                    ],
                    markPoint: {
                        data: [
                            {
                                type: 'max', name: '最大值'
                            },
                            {
                                type: 'min', name: '最小值'
                            }
                        ]
                    },
                }
            ]
        };

        myChart.setOption(option);

    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
      <link rel="stylesheet" href="https://gw.alipayobjects.com/os/rmsportal/PqLCOJpqoOUfuPRacUzE.css" />
    <title>分级统计图</title>
    <style> ::-webkit-scrollbar{display:none;}html,body{overflow:hidden;margin:0;}
    	#map {width:50%;height: 80%; position: absolute; top: 0}
    </style>
</head>
<body>
<div id="map"></div>
<script>/*Fixing iframe window.innerHeight 0 issue in Safari*/ document.body.clientHeight; </script>
<script src="https://webapi.amap.com/maps?v=1.4.8&key=6d880b6e6743e09dccff35d23f549cb9&plugin=Map3D"></script>
<script src="https://gw.alipayobjects.com/os/antv/assets/lib/jquery-3.2.1.min.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.l7-1.3.0-beta.4/build/L7-min.js"></script>
<script>
  var scene = new L7.Scene({
    id: 'map',
    mapStyle: 'light', // 样式URL
    center: [104.838088, 34.075889],
    pitch: 0,
    zoom: 4.5
  });
  window.scene = scene;

//   // 标记
//   const Marker = new L7.Marker({
//     offset: [113.264385, 23.129112]
//   })

  scene.on('loaded', function() {
    var colors = ["#FFF5B8", "#FFDC7D", "#FFAB5C", "#F27049", "#D42F31", "#730D1C"];
    $.getJSON('https://gw.alipayobjects.com/os/rmsportal/JToMOWvicvJOISZFCkEI.json', function(city) {
      console.log(city)
    //   city.features.splice(0, 1)
    // city = []
      scene.PolygonLayer().source(city)
        //.color('pm2_5_24h',["#FFF5B8","#FFDC7D","#FFAB5C","#F27049","#D42F31","#730D1C"])
        .color('area', function(p) {
            console.log(p)
            return '#F27049'
        }).shape('fill').active(true).style({
          opacity: .5
        }).render();
      scene.PolygonLayer().source(city).shape('line').color('#fff').style({
        opacity: 0.1
      }).render();
    //   new L7.Marker({
    //     color: 'red'
    //     }).setLnglat(
    //         [113.264385, 23.129112]
    //     ).addTo(scene);
    //   new L7.Marker().setLnglat([114, 36]).addTo(scene);
    var el = document.createElement('label');
       el.className = 'lableclass';
       el.textContent = '年后';
       el.style.background = 'blue';
       new L7.Marker({
         element: el
       })
       .setLnglat(
        [113.264385, 23.129112]
       )
        .addTo(scene);
    });
  });
</script>
</body>
</html>
