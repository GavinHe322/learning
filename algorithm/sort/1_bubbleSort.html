<script>

// 13.313 ms   On²
var bubbleSort = function(arr) {
    console.time('1.普通冒泡排序')
    let len = arr.length

    for (var i = 0; i < len; i++) {
        for (var j = 0; j < len - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                [arr[j +1], arr[j]] = [arr[j], arr[j +1]]
            }
        }
    }
    console.timeEnd('1.普通冒泡排序')
    // return arr;
}
var arr = []

for (var i = 0; i < 7; i ++) {
    arr.push(
      Math.ceil(Math.random() * 100)
    )
}
console.log(
    // bubbleSort(arr.slice(0))
)

//  5.863 ms
function bubbleSort2(arr) {
    console.time("2.改进后冒泡排序耗时");
    var i = arr.length - 1; //初始时,最后位置保持不变
    while (i > 0) {
      var pos = 0; //每趟开始时,无记录交换
      for (var j = 0; j < i; j++)
        if (arr[j] > arr[j + 1]) {
          pos = j; //记录交换的位置
          var tmp = arr[j];
          arr[j] = arr[j + 1];
          arr[j + 1] = tmp;
        }
      i = pos; //为下一趟排序作准备
    }
    console.timeEnd("2.改进后冒泡排序耗时");
    // return arr;
  }
console.log(
    // bubbleSort2(arr.slice(0))
)


// 7.135 ms
function bubbleSort3(arr3) {
    console.time("2.改进后冒泡排序耗时");
    var low = 0;
    var high = arr3.length - 1; //设置变量的初始值
    var tmp, j;
    debugger
    while (low < high) {
      for (
        j = low;
        j < high;
        ++j //正向冒泡,找到最大者
      ) {

        if (arr3[j] > arr3[j + 1]) {
          tmp = arr3[j];
          arr3[j] = arr3[j + 1];
          arr3[j + 1] = tmp;
        }
      }
      --high; //修改high值, 前移一位
      for (
        j = high;
        j > low;
        --j //反向冒泡,找到最小者
      ) {
        if (arr3[j] < arr3[j - 1]) {
          tmp = arr3[j];
          arr3[j] = arr3[j - 1];
          arr3[j - 1] = tmp;
        }
      }
      ++low; //修改low值,后移一位
    }
    console.timeEnd("2.改进后冒泡排序耗时");
    // return arr3;
  }

console.log(
    bubbleSort3(arr.slice(0))
)
</script>