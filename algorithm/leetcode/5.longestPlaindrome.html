<script>

  // const str1 = 'babad'
  // const str1 = 'abcda'
  const str1 = 'aaaa'
  const str2 = 'bb'
  // 1.动态规则
  /**
  * @param {string} s
  * @return {string}
  */
  // var longestPalindrome = function(s) {
  //     let len = Math.min(s.length, 1000)
  //     debugger
  //     if (!s || s.length === 0) return ''

  //     let res = s[0]

  //     const dp = []

  //     for (let i = len - 1; i > -1; i--) {
  //       dp[i] = []

  //       for (let j = i; j < len; j++) {
  //         if (j - i === 0) {
  //           dp[i][j] = true
  //         } else if (j - i === 1 && s[i] === s[j]) {
  //           dp[i][j] = true
  //         } else if (s[i] === s[j] && dp[i + 1][j - 1]) {
  //           dp[i][j] = true
  //         }

  //         if (dp[i][j] && j - i + 1 > res.length) {
  //           res = s.slice(i, j + 1)
  //         }
  //       }
  //     }
  //     return res
  // };

  /**
  * @param {string} s
  * @return {string}
  */
  var longestPalindrome = function(s) {
      const len = s.length;
      const dp = Array.from(new Array(len),() => new Array(len).fill(false))
      let res = ''

      for(let i = len - 1; i >= 0; i--) {
          for(let j = i;j < len; j++) {
              dp[i][j] = 
                // 倒数
                s.charAt(i) === 
                // 整数
                s.charAt(j)
                 && 
                (j - i <= 2 || dp[i + 1][j-1])
              // var b1 = j - i <= 2
              // var b2 = dp[i + 1][j-1]
              if (i == 0) debugger
              if(dp[i][j] && j - i >= res.length){
                res = s.slice(i,j+1)
                if (res.length > 2) {
                  
                }
              }
          }
      }
      return res;
  };
  console.log(
    longestPalindrome(str1),
    // longestPalindrome(str2)
  )
</script>